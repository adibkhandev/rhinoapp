{"ast":null,"code":"import _slicedToArray from\"/home/adib/code/rhino_production/rhino/rhino-front/rhino/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext,useCallback}from'react';import{useSelector,useDispatch}from'react-redux';import Navigation from'./Navigation-ash';import Context from'./Context';import{Nav}from'./Nav';import{Taka}from\"./Components\";import Counter from'./Counter';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){// let [biller,setBiller]=useState(0)\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),hover=_useState4[0],setHover=_useState4[1];var data=useSelector(function(state){return state.cartState.data;});var notifications=useSelector(function(state){return state.notifyState.notifications;});var dispatch=useDispatch();useEffect(function(){// window.location.reload(false)\nif(notifications.cart>0){dispatch({type:\"NULLIFY-CART\"});}},[notifications]);useEffect(function(){if(data){var total=data.map(function(item){return item.product.price*item.count;});var sum=total.reduce(function(accumulator,currentValue){return accumulator+currentValue;},0);setAmount(sum);setBiller(sum);}},[data]);console.log(amount,'amm');var context=useContext(Context);var biller=context.biller;var setBiller=context.setBiller;var dispatcher=function dispatcher(){dispatch({type:\"ADD\"});};console.log('hello');console.log(data);console.log('unique');var list=[0,1,2];return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page\",children:[/*#__PURE__*/_jsx(Nav,{colour:\"ash\",visible:true,stick:false}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"desc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cover\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Cover\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Product\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"triplet\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"trips\",children:\"Price\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"trips\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"trips\",children:\"Subtotal\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"items\",children:data?data.map(function(items,i){console.log(\"fuck\",items.id);{/*setBill(itemscost)*/}return/*#__PURE__*/_jsx(Item,{i:i,biller:biller,setBiller:setBiller,items:items});}):\"hi\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"net\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"net-header\",children:\"Net total  :\"}),/*#__PURE__*/_jsx(Taka,{num:\"zero\",taka:amount})]}),/*#__PURE__*/_jsx(Link,{to:\"/bill\",children:/*#__PURE__*/_jsx(\"button\",{className:\"buy-but\",children:\"Buy\"})})]})]});};var Item=function Item(_ref){var items=_ref.items,biller=_ref.biller,setBiller=_ref.setBiller,i=_ref.i;var url2='https://rhino-backend.up.railway.app';var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),subtotal=_useState6[0],setSubtotal=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),last=_useState8[0],setLast=_useState8[1];var dispatch=useDispatch();useEffect(function(){if(subtotal>0){setLast(subtotal);}setSubtotal(items.product.price*items.count);console.log(last,subtotal);},[items.count,subtotal]);return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(url2).concat(items.product.image),alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:items.product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"trio\",children:[/*#__PURE__*/_jsx(Taka,{num:\"one\",taka:items.product.price}),/*#__PURE__*/_jsx(Counter,{id:i,count:items.count}),/*#__PURE__*/_jsx(Taka,{num:\"one\",taka:subtotal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"remover\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){setBiller(biller-subtotal);dispatch({type:'DELETE',payload:items});},className:\"btn\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/close.png\",alt:\"\"})})})]});};export default Cart;","map":{"version":3,"names":["React","useState","useEffect","useContext","useCallback","useSelector","useDispatch","Navigation","Context","Nav","Taka","Counter","Link","Cart","amount","setAmount","hover","setHover","data","state","cartState","notifications","notifyState","dispatch","cart","type","total","map","item","product","price","count","sum","reduce","accumulator","currentValue","setBiller","console","log","context","biller","dispatcher","list","items","i","id","Item","url2","subtotal","setSubtotal","last","setLast","image","name","payload"],"sources":["/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/all-pages/Cart.js"],"sourcesContent":["import React,{useState,useEffect,useContext,useCallback} from 'react'\nimport {useSelector,useDispatch} from 'react-redux'\nimport Navigation from './Navigation-ash' \nimport Context from './Context'\nimport {Nav} from './Nav'\nimport {Taka} from \"./Components\"\nimport Counter from './Counter'\nimport {Link} from \"react-router-dom\"\nconst Cart = () => {\n\t\n\t// let [biller,setBiller]=useState(0)\n\tlet [amount,setAmount]=useState(0)\n     let [hover,setHover]=useState(0)\n\tlet data = useSelector((state)=> state.cartState.data)\n     let notifications = useSelector((state)=>state.notifyState.notifications)\n     let dispatch = useDispatch()\n    useEffect(() => {\n    \t// window.location.reload(false)\n    \tif(notifications.cart>0){\n            dispatch({type:\"NULLIFY-CART\"})\n    \t\t\n    \t}\n    }, [notifications])\n\tuseEffect(() => {\n\t\tif(data){\n\t\t\tlet total = data.map((item)=>{\n\t\t\t\treturn(\n                   item.product.price*item.count\n\t\t\t\t)\n\t\t\t})\n\t\t\tlet sum = total.reduce((accumulator,currentValue)=> accumulator+currentValue,0)\n\t\t     setAmount(sum)\n\t\t     setBiller(sum)\n\t\t}\n\t}, [data])\n\tconsole.log(amount,'amm')\n\tlet context = useContext(Context)\n\tlet biller = context.biller\n\tlet setBiller = context.setBiller\n\tlet dispatcher = () => {\n\t\tdispatch({type:\"ADD\"})\n\t}\n\t\n\n\tconsole.log('hello')\n\tconsole.log(data)\n\tconsole.log('unique')\n\tlet list = [0,1,2]\n\treturn (\n\t\t\n\t\t\t<div className=\"cart-page\">\n\t\t\t<Nav colour={\"ash\"} visible={true} stick={false} ></Nav>\n\t\t\t<div className=\"cart\">\n\t\t\t\t<div className=\"desc\">\n\t\t\t\t\t<div className=\"cover\">\n\t\t\t\t\t\t<h1 >Cover</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Product\">\n\t\t\t\t\t\t<h1 >Product</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"triplet\">\n\t\t\t\t\t\t<h1 className=\"trips\">Price</h1>\n\t\t\t\t\t\t<h1 className=\"trips\">Quantity</h1>\n\t\t\t\t\t\t<h1 className=\"trips\">Subtotal</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"items\">\n\t\t\t\t\t{data?data.map((items,i)=>{\n\t\t\t\t\t\tconsole.log(\"fuck\",items.id)\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/*setBill(itemscost)*/}\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn(\n                              <Item  i={i} biller={biller} setBiller={setBiller}  items={items} ></Item>\n\t\t\t\t\t\t)\n\t\t\t\t\t}):\"hi\"}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"net\">\n\t\t\t\t\t<h1 className=\"net-header\" >Net total  :</h1>\n\t\t\t\t\t<Taka  num={\"zero\"} taka={amount} ></Taka>\n\t\t\t\t</div>\n\t\t\t\t   <Link to=\"/bill\">\n\t\t\t\t<button className=\"buy-but\">\n\t\t\t\t   \tBuy\n\t\t\t\t\t\n\t\t\t\t</button>\n\t\t\t\t   </Link>\n               \n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\n\t\t\n\t\t\n\t)\n}\nlet Item = ({items,biller,setBiller,i})=>{\n\tlet url2 = 'https://rhino-backend.up.railway.app'\n\tlet [subtotal,setSubtotal] = useState(0)\n\tlet [last,setLast]= useState(0)\n    let dispatch = useDispatch()\n\n\tuseEffect(() => {\n    \n            if(subtotal>0){\n        \tsetLast(subtotal)\n\n            }\n        \t\n        \tsetSubtotal(items.product.price*items.count)\n        \tconsole.log(last,subtotal)\n        \n\t}, [items.count,subtotal])\n\n\n\treturn(\n     <div className=\"item\">\n           <div className=\"image\">\n            <img src={`${url2}${items.product.image}`} alt=\"\"/>\n           </div>\n           <div className=\"title\">\n           \t<h1>{items.product.name}</h1>\n           </div>\n          \t<div className=\"trio\">\n          \t\t<Taka num={\"one\"} taka={items.product.price} ></Taka>\n          \t\t<Counter id={i} count={items.count} ></Counter>\n          \t\t\n          \t\t<Taka num={\"one\"} taka={subtotal} ></Taka>\n          \t</div>\n          \t<div  className=\"remover\">\n          \t\t<div onClick={()=>{\n                      setBiller(biller-subtotal)\n          \t\t  dispatch({type:'DELETE',payload:items})\n          \t\t}\n          \t} className=\"btn\">\n          \t\t\t<img src=\"images/close.png\" alt=\"\"/>\n          \t\t</div>\n          \t</div>\n          </div>\n\t)\n}\n\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module"}