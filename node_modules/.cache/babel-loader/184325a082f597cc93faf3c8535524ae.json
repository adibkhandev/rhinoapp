{"ast":null,"code":"import _slicedToArray from\"/home/adib/code/rhino_production/rhino/rhino-front/rhino/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{useDispatch}from'react-redux';import{Nav}from'./Nav';import{Link,useNavigate}from\"react-router-dom\";import{SearchEngine}from'./Nav';import{Taka,FixedStars,Filter,NotFound}from\"./Components\";import Like from'./Like';import Context from'./Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Searched=function Searched(){var context=useContext(Context);var results=context.search_result;var loading=context.loading;var setSearch=context.setsearch;console.log(results,'achieved');return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searched-page\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{stick:false,ase:true,searchon:true,visible:true,colour:'ash'}),/*#__PURE__*/_jsx(Results,{loading:loading,results:results,children:\" \"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"conter\",children:/*#__PURE__*/_jsx(SearchEngine,{ase:true,searchon:true,setSearch:setSearch})})]})});};var Results=function Results(_ref){var results=_ref.results,loading=_ref.loading;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),start=_useState2[0],setStart=_useState2[1];var _useState3=useState(20000),_useState4=_slicedToArray(_useState3,2),limit=_useState4[0],setLimit=_useState4[1];var resultFiltered=results?results.filter(function(result){return start<=result.price&&result.price<=limit;}):[];console.log(resultFiltered.length,'got');return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"all\",children:[/*#__PURE__*/_jsx(Filter,{start:start,setStart:setStart,limit:limit,setLimit:setLimit}),!loading&&results.length!=0?/*#__PURE__*/_jsx(\"div\",{className:resultFiltered.length<6?\"cards shortage\":\"cards\",children:resultFiltered.map(function(result){return/*#__PURE__*/_jsx(Card,{result:result});})}):/*#__PURE__*/_jsx(NotFound,{})]})});};var Card=function Card(_ref2){var result=_ref2.result;var url2='https://rhino-backend.up.railway.app';var context=useContext(Context);// let url2 = 'http://127.0.0.1:8000'\nvar dispatch=useDispatch();var navigate=useNavigate();console.log(result.rev,'revv');var Totalrating=[0];var rate=result.rev.map(function(item){return Totalrating+=item.rating;});var star=Totalrating/result.rev.length;console.log(star,'st');console.log(Totalrating,'tot');console.log(rate,'ratee');return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cont\",children:[/*#__PURE__*/_jsx(Link,{to:\"/post\",state:result,children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-cont\",children:/*#__PURE__*/_jsx(\"img\",{className:\"card-img\",src:\"\".concat(url2+result.image),alt:\"\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:result.name}),/*#__PURE__*/_jsx(Taka,{num:\"minier\",taka:result.price})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"functional-buttons\",children:[star?/*#__PURE__*/_jsx(FixedStars,{star:star}):/*#__PURE__*/_jsx(FixedStars,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-like\",children:[/*#__PURE__*/_jsx(\"h1\",{onClick:function onClick(){if(context.userdata){dispatch({type:'ADD',payload:result,count:1});dispatch({type:'ADD-CART'});}else{navigate('/login');}},children:\"Add tocart\"}),/*#__PURE__*/_jsx(Like,{product:result,id:result.id})]})]})]})});};export default Searched;","map":{"version":3,"names":["React","useState","useContext","useDispatch","Nav","Link","useNavigate","SearchEngine","Taka","FixedStars","Filter","NotFound","Like","Context","Searched","context","results","search_result","loading","setSearch","setsearch","console","log","Results","start","setStart","limit","setLimit","resultFiltered","filter","result","price","length","map","Card","url2","dispatch","navigate","rev","Totalrating","rate","item","rating","star","image","name","userdata","type","payload","count","id"],"sources":["/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/all-pages/Searched.js"],"sourcesContent":["import React,{useState,useContext} from 'react'\nimport {useDispatch} from 'react-redux'\nimport {Nav} from './Nav'\nimport {Link,useNavigate} from \"react-router-dom\"\nimport {SearchEngine} from './Nav'\nimport {Taka,FixedStars,Filter,NotFound} from \"./Components\"\nimport Like from './Like'\nimport Context from './Context'\nconst  Searched = () => {\n\tlet context = useContext(Context)\n\tlet results = context.search_result\n\tlet loading = context.loading\n\tlet setSearch = context.setsearch\n\tconsole.log(results,'achieved')\n\treturn (\n\t\t<>\n\t\t<div className=\"pg\">\n\t\t\t\n        <div className=\"searched-page\">\n         \n         \n         \t    \n         {\n         \t\n         \t  <>\t\n        \t  <Nav stick={false} ase={true} searchon={true} visible={true} colour={'ash'}></Nav>\n              <Results loading={loading} results={results} > </Results>\n           \n              </>\n              \n         }        \n         \t\n        </div> \n        <div className=\"conter\">\n         <SearchEngine\n            ase={true}\n            searchon={true}\n            setSearch={setSearch}\n            >\n          </SearchEngine>\n        \t\n        </div>\n\t\t</div>\n\t\t</>\n\t)\n}\nconst Results=({results,loading})=>{\n\tlet [start,setStart]=useState(0)\n\tlet [limit,setLimit]=useState(20000)\n\n\tlet resultFiltered = results?results.filter((result)=>{\n\t\treturn start<=result.price && result.price<=limit\n\t}):[]\n\tconsole.log(resultFiltered.length,'got')\n\treturn(\n\t\t<>\n\t\t  \n\t\t  <div className=\"all\">\n\t\t   <Filter start={start} setStart={setStart} limit={limit} setLimit={setLimit} /> \n\t       {!loading && results.length!=0?(\n\t       \t <div  className={resultFiltered.length<6?\"cards shortage\":\"cards\"}>\n              \n\t       \t  {resultFiltered.map((result)=>{\n\t       \t  \treturn(\n\t       \t  \n                   <Card result={result} ></Card>\n\t       \t  \t\n\t       \t  \n\t       \t    )})\n\t       \t   }\n\t          </div>\n\t        ):<NotFound></NotFound>}\t\n\t\t  \t\n\t\t  </div>\n\t\t</>\n      \n\t)\n}\nconst Card =({result})=>{\n\tlet url2 = 'https://rhino-backend.up.railway.app'\n\tlet context = useContext(Context)\n\t// let url2 = 'http://127.0.0.1:8000'\n\tlet dispatch = useDispatch()\n\tlet navigate = useNavigate()\n\tconsole.log(result.rev,'revv')\n\tlet Totalrating = [0]\n\tlet rate = result.rev.map((item)=>{\n\t\treturn Totalrating+=item.rating\n\t})\n\tlet star = Totalrating/result.rev.length\n\tconsole.log(star,'st')\n\tconsole.log(Totalrating,'tot') \n\tconsole.log(rate,'ratee')\n\treturn(\n        <>  \n          <div className=\"cont\">\n            <Link to=\"/post\" state={result} >\n            <div className=\"card\">\n                    <div className=\"image-cont\">\n                    \t\n                   \t<img className=\"card-img\" src={`${url2+result.image}`} alt=\"\"/>\n                    </div>\n                   \t<h1 className=\"title\">\n                   \t\t{result.name}\n                   \t</h1>\n                   \t<Taka num={\"minier\"} taka={result.price}  ></Taka>\n                   \t\n            </div>\n            </Link>\n            <div className=\"functional-buttons\">\n                  {star?<FixedStars star={star} ></FixedStars>:<FixedStars ></FixedStars>}\n            \t    \n                   \t<div className=\"cart-like\">\n                   \t    \n                   \t\t<h1 onClick={()=>{\n                          if(context.userdata){\n                   \t\t  dispatch({type: 'ADD' , payload:result ,count:1}) \n                   \t\t  dispatch({type:'ADD-CART'})\n                          }\n                          else{\n                           navigate('/login')\n                          }\n                   \t\t}}>\n                   \t\tAdd tocart\n\n                   \t\t</h1>\n                   \t    \n                   \t   \n                         <Like product={result} id={result.id} ></Like>\n                         \n                   \t</div>\n            </div>\n          \t\n          </div>\n        </>\n\t)\n}\n\nexport default  Searched"],"mappings":"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"},"metadata":{},"sourceType":"module"}