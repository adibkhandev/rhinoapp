{"ast":null,"code":"import _slicedToArray from\"/home/adib/code/rhino_production/rhino/rhino-front/rhino/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from'react';import Context from'./Context';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var Like=function Like(_ref){var product=_ref.product,id=_ref.id,liked=_ref.liked;var context=useContext(Context);var userid=context.user?context.user.user_id:null;var _useState=useState(liked?true:false),_useState2=_slicedToArray(_useState,2),like=_useState2[0],setLike=_useState2[1];var url='https://rhino-backend.up.railway.app/like/';var url2='https://rhino-backend.up.railway.app/dislike/';var likes=context.userdata?context.userdata.liked:null;useEffect(function(){console.log(likes,id,'kkk');console.log(context.userdata);// console.log(likes.includes(product))\nif(likes){console.log(likes.filter(function(e){return e.id===id;}).length);if(likes.filter(function(e){return e.id===id;}).length!==0){setLike(true);}}},[likes]);return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){if(!like){axios.post(url,{'userid':userid,'productid':id}).then(function(response){console.log(response,'likes');}).catch(function(err){console.log(err);});setLike(true);}else if(like){axios.post(url2,{'userid':userid,'productid':id}).then(function(response){console.log(response,'likes');}).catch(function(err){console.log(err);});setLike(false);}},className:\"like\",children:/*#__PURE__*/_jsx(\"img\",{src:like?\"images/liked.svg\":\"images/like.png\",alt:\"\"})});};export default Like;","map":{"version":3,"names":["useState","useContext","useEffect","Context","axios","Like","product","id","liked","context","userid","user","user_id","like","setLike","url","url2","likes","userdata","console","log","filter","e","length","post","then","response","catch","err"],"sources":["/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/all-pages/Like.js"],"sourcesContent":["import {useState,useContext,useEffect} from 'react'\nimport Context from './Context'\nimport axios from 'axios'\n \nlet Like =({product,id,liked})=>{\n   let context = useContext(Context)\n   let userid = context.user? context.user.user_id : null\n   let [like,setLike]= useState(liked?true:false)\n   let url = 'https://rhino-backend.up.railway.app/like/'\n   let url2 = 'https://rhino-backend.up.railway.app/dislike/'\n   let likes = context.userdata? context.userdata.liked : null\n   useEffect(() => {\n      console.log(likes,id,'kkk')\n      console.log(context.userdata)\n      // console.log(likes.includes(product))\n\n      if(likes){\n         console.log(likes.filter(e=>e.id===id).length)\n        if(likes.filter(e=>e.id===id).length!==0){\n         setLike(true)\n        }\n      }\n   }, [likes])\n   return(\n      <div onClick={()=>{\n\n            \n             if(!like){\n             axios.post(url,{'userid':userid,'productid':id})\n              .then((response)=>{\n               console.log(response,'likes')\n              })\n              .catch((err)=>{\n               console.log(err)\n              })\n               setLike(true)\n             }\n             else if(like){\n             axios.post(url2,{'userid':userid,'productid':id})\n              .then((response)=>{\n               console.log(response,'likes')\n              })\n              .catch((err)=>{\n               console.log(err)\n              })\n               setLike(false)  \n             }\n\n          }\n       } className=\"like\">\n         <img  src={like?\"images/liked.svg\":\"images/like.png\"} alt=\"\"/>\n      </div>\n   )\n}\n\nexport default Like"],"mappings":"8IAAA,OAAQA,QAAQ,CAACC,UAAU,CAACC,SAAS,KAAO,OAAO,CACnD,MAAOC,QAAO,KAAM,WAAW,CAC/B,MAAOC,MAAK,KAAM,OAAO,4CAEzB,GAAIC,KAAI,CAAE,QAANA,KAAI,MAAwB,IAApBC,QAAO,MAAPA,OAAO,CAACC,EAAE,MAAFA,EAAE,CAACC,KAAK,MAALA,KAAK,CACzB,GAAIC,QAAO,CAAGR,UAAU,CAACE,OAAO,CAAC,CACjC,GAAIO,OAAM,CAAGD,OAAO,CAACE,IAAI,CAAEF,OAAO,CAACE,IAAI,CAACC,OAAO,CAAG,IAAI,CACtD,cAAoBZ,QAAQ,CAACQ,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,wCAAzCK,IAAI,eAACC,OAAO,eACjB,GAAIC,IAAG,CAAG,4CAA4C,CACtD,GAAIC,KAAI,CAAG,+CAA+C,CAC1D,GAAIC,MAAK,CAAGR,OAAO,CAACS,QAAQ,CAAET,OAAO,CAACS,QAAQ,CAACV,KAAK,CAAG,IAAI,CAC3DN,SAAS,CAAC,UAAM,CACbiB,OAAO,CAACC,GAAG,CAACH,KAAK,CAACV,EAAE,CAAC,KAAK,CAAC,CAC3BY,OAAO,CAACC,GAAG,CAACX,OAAO,CAACS,QAAQ,CAAC,CAC7B;AAEA,GAAGD,KAAK,CAAC,CACNE,OAAO,CAACC,GAAG,CAACH,KAAK,CAACI,MAAM,CAAC,SAAAC,CAAC,QAAEA,EAAC,CAACf,EAAE,GAAGA,EAAE,GAAC,CAACgB,MAAM,CAAC,CAC/C,GAAGN,KAAK,CAACI,MAAM,CAAC,SAAAC,CAAC,QAAEA,EAAC,CAACf,EAAE,GAAGA,EAAE,GAAC,CAACgB,MAAM,GAAG,CAAC,CAAC,CACxCT,OAAO,CAAC,IAAI,CAAC,CACd,CACF,CACH,CAAC,CAAE,CAACG,KAAK,CAAC,CAAC,CACX,mBACG,YAAK,OAAO,CAAE,kBAAI,CAGX,GAAG,CAACJ,IAAI,CAAC,CACTT,KAAK,CAACoB,IAAI,CAACT,GAAG,CAAC,CAAC,QAAQ,CAACL,MAAM,CAAC,WAAW,CAACH,EAAE,CAAC,CAAC,CAC9CkB,IAAI,CAAC,SAACC,QAAQ,CAAG,CACjBP,OAAO,CAACC,GAAG,CAACM,QAAQ,CAAC,OAAO,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAG,CACbT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC,CACjB,CAAC,CAAC,CACDd,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,IACI,IAAGD,IAAI,CAAC,CACbT,KAAK,CAACoB,IAAI,CAACR,IAAI,CAAC,CAAC,QAAQ,CAACN,MAAM,CAAC,WAAW,CAACH,EAAE,CAAC,CAAC,CAC/CkB,IAAI,CAAC,SAACC,QAAQ,CAAG,CACjBP,OAAO,CAACC,GAAG,CAACM,QAAQ,CAAC,OAAO,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAG,CACbT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC,CACjB,CAAC,CAAC,CACDd,OAAO,CAAC,KAAK,CAAC,CAChB,CAEH,CACF,CAAC,SAAS,CAAC,MAAM,uBAChB,YAAM,GAAG,CAAED,IAAI,CAAC,kBAAkB,CAAC,iBAAkB,CAAC,GAAG,CAAC,EAAE,EAAE,EAC3D,CAEZ,CAAC,CAED,cAAeR,KAAI"},"metadata":{},"sourceType":"module"}