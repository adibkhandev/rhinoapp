{"ast":null,"code":"import _slicedToArray from\"/home/adib/code/rhino_production/rhino/rhino-front/rhino/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{useDispatch}from'react-redux';import{Nav}from'./Nav';import{Link}from\"react-router-dom\";import{Taka,FixedStars,Filter,NotFound}from\"./Components\";import Like from'./Like';import Context from'./Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Searched=function Searched(){var context=useContext(Context);var results=context.search_result;var loading=context.loading;console.log(results,'achieved');return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"searched-page\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{stick:false,ase:true,searchon:true,visible:true,colour:'ash'}),/*#__PURE__*/_jsx(Results,{loading:loading,results:results,children:\" \"})]})})});};var Results=function Results(_ref){var results=_ref.results,loading=_ref.loading;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),start=_useState2[0],setStart=_useState2[1];var _useState3=useState(20000),_useState4=_slicedToArray(_useState3,2),limit=_useState4[0],setLimit=_useState4[1];var resultFiltered=results?results.filter(function(result){return start<=result.price&&result.price<=limit;}):[];console.log(resultFiltered.length,'got');return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"all\",children:[/*#__PURE__*/_jsx(Filter,{start:start,setStart:setStart,limit:limit,setLimit:setLimit}),!loading&&results.length!=0?/*#__PURE__*/_jsx(\"div\",{className:resultFiltered.length<6?\"cards shortage\":\"cards\",children:resultFiltered.map(function(result){return/*#__PURE__*/_jsx(Card,{result:result});})}):/*#__PURE__*/_jsx(NotFound,{})]})});};var Card=function Card(_ref2){var result=_ref2.result;var url2='https://rhino-backend.up.railway.app';var dispatch=useDispatch();console.log(result.rev,'revv');var Totalrating=[0];var rate=result.rev.map(function(item){return Totalrating+=item.rating;});var star=Totalrating/result.rev.length;console.log(star,'st');console.log(Totalrating,'tot');console.log(rate,'ratee');return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cont\",children:[/*#__PURE__*/_jsx(Link,{to:\"/post\",state:result,children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-cont\",children:/*#__PURE__*/_jsx(\"img\",{className:\"card-img\",src:\"\".concat(url2+result.image),alt:\"\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:result.name}),/*#__PURE__*/_jsx(Taka,{num:\"minier\",taka:result.price})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"functional-buttons\",children:[star?/*#__PURE__*/_jsx(FixedStars,{star:star}):/*#__PURE__*/_jsx(FixedStars,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-like\",children:[/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(\"h1\",{onClick:function onClick(){return dispatch({type:'ADD',payload:result,count:1});},children:\"Add tocart\"})}),/*#__PURE__*/_jsx(Like,{product:result,id:result.id})]})]})]})});};export default Searched;","map":{"version":3,"names":["React","useState","useContext","useDispatch","Nav","Link","Taka","FixedStars","Filter","NotFound","Like","Context","Searched","context","results","search_result","loading","console","log","Results","start","setStart","limit","setLimit","resultFiltered","filter","result","price","length","map","Card","url2","dispatch","rev","Totalrating","rate","item","rating","star","image","name","type","payload","count","id"],"sources":["/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/all-pages/Searched.js"],"sourcesContent":["import React,{useState,useContext} from 'react'\nimport {useDispatch} from 'react-redux'\nimport {Nav} from './Nav'\nimport {Link} from \"react-router-dom\"\nimport {Taka,FixedStars,Filter,NotFound} from \"./Components\"\nimport Like from './Like'\nimport Context from './Context'\nconst  Searched = () => {\n\tlet context = useContext(Context)\n\tlet results = context.search_result\n\tlet loading = context.loading\n\tconsole.log(results,'achieved')\n\treturn (\n\t\t<>\n        <div className=\"searched-page\">\n         \n         \n         \t    \n         {\n         \t\n         \t  <>\t\n        \t  <Nav stick={false} ase={true} searchon={true} visible={true} colour={'ash'}></Nav>\n              <Results loading={loading} results={results} > </Results>\n              </>\n              \n         }        \n         \t\n        </div> \n\t\t</>\n\t)\n}\nconst Results=({results,loading})=>{\n\tlet [start,setStart]=useState(0)\n\tlet [limit,setLimit]=useState(20000)\n\n\tlet resultFiltered = results?results.filter((result)=>{\n\t\treturn start<=result.price && result.price<=limit\n\t}):[]\n\tconsole.log(resultFiltered.length,'got')\n\treturn(\n\t\t<>\n\t\t  \n\t\t  <div className=\"all\">\n\t\t   <Filter start={start} setStart={setStart} limit={limit} setLimit={setLimit} /> \n\t       {!loading && results.length!=0?(\n\t       \t <div  className={resultFiltered.length<6?\"cards shortage\":\"cards\"}>\n              \n\t       \t  {resultFiltered.map((result)=>{\n\t       \t  \treturn(\n\t       \t  \n                   <Card result={result} ></Card>\n\t       \t  \t\n\t       \t  \n\t       \t    )})\n\t       \t   }\n\t          </div>\n\t        ):<NotFound></NotFound>}\t\n\t\t  \t\n\t\t  </div>\n\t\t</>\n      \n\t)\n}\nconst Card =({result})=>{\n\tlet url2 = 'https://rhino-backend.up.railway.app'\n\tlet dispatch = useDispatch()\n\tconsole.log(result.rev,'revv')\n\tlet Totalrating = [0]\n\tlet rate = result.rev.map((item)=>{\n\t\treturn Totalrating+=item.rating\n\t})\n\tlet star = Totalrating/result.rev.length\n\tconsole.log(star,'st')\n\tconsole.log(Totalrating,'tot') \n\tconsole.log(rate,'ratee')\n\treturn(\n        <>  \n          <div className=\"cont\">\n            <Link to=\"/post\" state={result} >\n            <div className=\"card\">\n                    <div className=\"image-cont\">\n                    \t\n                   \t<img className=\"card-img\" src={`${url2+result.image}`} alt=\"\"/>\n                    </div>\n                   \t<h1 className=\"title\">\n                   \t\t{result.name}\n                   \t</h1>\n                   \t<Taka num={\"minier\"} taka={result.price}  ></Taka>\n                   \t\n            </div>\n            </Link>\n            <div className=\"functional-buttons\">\n                  {star?<FixedStars star={star} ></FixedStars>:<FixedStars ></FixedStars>}\n            \t    \n                   \t<div className=\"cart-like\">\n                   \t    <Link to=\"/cart\">\n                   \t\t<h1 onClick={()=>dispatch({type: 'ADD' , payload:result ,count:1})} >Add tocart</h1>\n                   \t    </Link>\n                   \t   \n                         <Like product={result} id={result.id} ></Like>\n                         \n                   \t</div>\n            </div>\n          \t\n          </div>\n        </>\n\t)\n}\n\nexport default  Searched"],"mappings":"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"},"metadata":{},"sourceType":"module"}