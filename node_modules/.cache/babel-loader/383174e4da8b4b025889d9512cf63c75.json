{"ast":null,"code":"import _slicedToArray from\"/home/adib/code/rhino_production/rhino/rhino-front/rhino/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import Context from'./Context';import Navigation from'./Navigation-ash';import{Nav}from'./Nav';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Log=function Log(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),mail=_useState2[0],setMail=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var context=useContext(Context);var tokensetter=context.function;var usersetter=context.usersetter;var user=context.user;// console.log(context)\nvar url='https://rhino-backend.up.railway.app/api/token/';// let url = '//127.0.0.1:8000/api/token/'\nvar config={headers:{'Content-Type':'application/json'}};var handleSubmit=function handleSubmit(){axios.post(url,{\"email\":mail,\"password\":password},config).then(function(response){if(response.status==200){console.log(response.data);tokensetter(response.data);usersetter(response.data);props.func();}}).catch(function(err){if(mail&&password){props.setNotifyLog('Login Failed');}else{props.setNotifyLog('Please fill up all the fields to proceed');}console.log('sdsa');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"reg-background\",children:[/*#__PURE__*/_jsx(Nav,{binary:props.binary===0?1:0,stick:true,ase:true,searchon:true,colour:'white'}),/*#__PURE__*/_jsxs(\"div\",{className:props.binary===0?\"login-inputs gone\":\"login-inputs\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"headline\",children:\"Log in your account.\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setMail(e.target.value);},value:mail,placeholder:\"Email\",type:\"text\",className:\"email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPassword(e.target.value);},value:password,placeholder:\"Enter password\",type:\"text\",className:\"password\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"shifter\",onClick:props.func,children:\"Don't have an account? Sign up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"but\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Login\"})})]})]});};export default Log;","map":{"version":3,"names":["React","useState","useContext","Context","Navigation","Nav","axios","Log","props","mail","setMail","password","setPassword","context","tokensetter","function","usersetter","user","url","config","headers","handleSubmit","post","then","response","status","console","log","data","func","catch","err","setNotifyLog","binary","e","target","value"],"sources":["/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/all-pages/Log.js"],"sourcesContent":["import React,{useState,useContext} from 'react'\nimport Context from './Context'\nimport Navigation from './Navigation-ash'\nimport {Nav} from './Nav'\nimport axios from 'axios'\n\n\nconst Log = (props) => {\n   \n   let [mail,setMail]=useState()\n   let [password,setPassword]=useState()\n   let context = useContext(Context)\n   let tokensetter = context.function\n   let usersetter = context.usersetter\n   let user = context.user\n\n   // console.log(context)\n   let url = 'https://rhino-backend.up.railway.app/api/token/'\n   // let url = '//127.0.0.1:8000/api/token/'\n   let config = {\n      headers:{\n         'Content-Type':'application/json'\n      }\n   }\n   let handleSubmit =()=>{\n     \n      \n      axios.post(url,{ \n         \"email\":mail,\n         \"password\":password\n      },config)\n      .then((response)=>{\n         if(response.status==200){\n         console.log(response.data)\n         tokensetter(response.data)\n         usersetter(response.data)\n         props.func()\n         }\n\n         \n      })\n      .catch((err)=>{\n         if(mail && password){\n         props.setNotifyLog('Login Failed')\n\n         }\n         else{\n            props.setNotifyLog('Please fill up all the fields to proceed')\n         }\n         console.log('sdsa')\n      })\n   }\n    return(\n\n       <div className=\"reg-background\">\n       <Nav binary={props.binary===0?1:0}  stick={true} ase={true} searchon={true}  colour={'white'}/>\n           <div className={props.binary===0?\"login-inputs gone\":\"login-inputs\"}>\n       \t\t <h1 className=\"headline\">\n       \t\t\tLog in your account. \n       \t\t </h1>\n       \t\n\n             \n              <input onChange={(e)=>setMail(e.target.value)} value={mail}  placeholder=\"Email\" type=\"text\" className=\"email\"/>\n              <input onChange={(e)=>setPassword(e.target.value)} value={password}  placeholder=\"Enter password\" type=\"text\" className=\"password\"/>\n             <h1 className=\"shifter\" onClick={props.func} >Don't have an account? Sign up</h1>\n             <div className=\"but\">\n             \t<button onClick={handleSubmit} >Login</button>\n             </div>\n           </div>\n         </div>  \n    )\t\n \n \n}\nexport default Log"],"mappings":"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"},"metadata":{},"sourceType":"module"}