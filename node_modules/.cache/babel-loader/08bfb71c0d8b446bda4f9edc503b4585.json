{"ast":null,"code":"import _toConsumableArray from\"/home/adib/code/rhino_production/rhino/rhino-front/rhino/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/adib/code/rhino_production/rhino/rhino-front/rhino/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createStore}from\"redux\";import{combineReducers}from'redux';var initialState={data:[],notifications:{liked:0,cart:0}};var cartState=function cartState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"ADD\":return _objectSpread(_objectSpread({},state),{},{data:[].concat(_toConsumableArray(state.data),[{product:action.payload,count:action.count}])});case\"UPDATE-\":var subArray=state.data.map(function(item,i){if(i==action.id){return _objectSpread(_objectSpread({},item),{},{count:state.data[action.id].count-1});}else{return _objectSpread({},item);}});return _objectSpread(_objectSpread({},state.data),{},{data:subArray});case\"UPDATE+\":var addArray=state.data.map(function(item,i){if(i==action.id){return _objectSpread(_objectSpread({},item),{},{count:state.data[action.id].count+1});}else{return _objectSpread({},item);}});return _objectSpread(_objectSpread({},state.data),{},{data:addArray});case\"DELETE\":return _objectSpread(_objectSpread({},state),{},{data:state.data.filter(function(item){return item!=action.payload;})});default:return state;}};var notifyState=function notifyState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"ADD-LIKE\":return _objectSpread(_objectSpread({},state),{},{notifications:_objectSpread(_objectSpread({},state.notifications),{},{liked:state.notifications.liked+1})});case\"NULLIFY-LIKE\":return _objectSpread(_objectSpread({},state),{},{notifications:_objectSpread(_objectSpread({},state.notifications),{},{liked:0})});case\"ADD-CART\":return _objectSpread(_objectSpread({},state),{},{notifications:_objectSpread(_objectSpread({},state.notifications),{},{cart:state.notifications.cart+1})});case\"NULLIFY-CART\":return _objectSpread(_objectSpread({},state),{},{notifications:_objectSpread(_objectSpread({},state.notifications),{},{cart:0})});}return state;};var reducer=combineReducers({cartState:cartState,notifyState:notifyState});var store=createStore(reducer);export default store;","map":{"version":3,"names":["createStore","combineReducers","initialState","data","notifications","liked","cart","cartState","state","action","type","product","payload","count","subArray","map","item","i","id","addArray","filter","notifyState","reducer","store"],"sources":["/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/CartState.js"],"sourcesContent":["import { createStore } from \"redux\";\nimport { combineReducers } from 'redux'\nlet initialState = {\n\t                  data:[],\n\t                  notifications:{\n                         liked:0,\n                         cart:0,\n\t                  },\n\n                   \n }\nlet cartState=(state=initialState,action)=>{\n\tswitch(action.type){\n\tcase \"ADD\": return {\n\t\t\n\t\t...state,\n\t\tdata:[...state.data ,\n\t\t           {\n\t\t           \t  \n\t\t               \tproduct:action.payload,\n\t\t               \tcount:action.count,\n\t\t           }\n                            \n\t\t\t ]\n\n\t}\n\tcase \"UPDATE-\": \n        let subArray = state.data.map((item,i)=>{\n        \tif(i==action.id){\n        \t\treturn{\n                   ...item,\n                   count:state.data[action.id].count-1,\n        \t\t}\n        \t}\n        \telse{\n        \t\treturn{\n        \t\t\t...item\n        \t\t}\n        \t}\n        })\n        return{\n        \t...state.data,\n        \tdata:subArray\n        }\n\n     case \"UPDATE+\": \n        let addArray = state.data.map((item,i)=>{\n        \tif(i==action.id){\n        \t\treturn{\n                   ...item,\n                   count:state.data[action.id].count+1,\n        \t\t}\n        \t}\n        \telse{\n        \t\treturn{\n        \t\t\t...item\n        \t\t}\n        \t}\n        })\n        return{\n        \t...state.data,\n        \tdata:addArray\n        }\n     case \"DELETE\":\n     \t return{\n     \t \t...state,\n     \t \tdata:state.data.filter((item)=>{\n     \t \t\treturn item!=action.payload\n     \t \t})\n     \t }\n\t\t\n\t\t\n\n    default: return state\n\t}\n    \n\n\n\n}\n\nlet notifyState=(state=initialState,action)=>{\n   switch(action.type){\n    case \"ADD-LIKE\":\n\n      return{\n      \t...state,\n      \tnotifications:{\n      \t\t...state.notifications,\n      \t\tliked:state.notifications.liked+1\n      \t}\n\n      } \n    case \"NULLIFY-LIKE\":\n    \treturn{\n    \t\t...state,\n      \tnotifications:{\n      \t\t...state.notifications,\n      \t\tliked:0\n      \t}\n    \t}\n     case \"ADD-CART\":\n\n      return{\n      \t...state,\n      \tnotifications:{\n      \t\t...state.notifications,\n      \t\tcart:state.notifications.cart+1\n      \t}\n\n      } \n    case \"NULLIFY-CART\":\n    \treturn{\n    \t\t...state,\n      \tnotifications:{\n      \t\t...state.notifications,\n      \t\tcart:0\n      \t}\n    \t}\n   }\n\n return state\n}\nlet reducer = combineReducers({cartState,notifyState})\nlet store = createStore(reducer)\n\nexport default store"],"mappings":"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"},"metadata":{},"sourceType":"module"}