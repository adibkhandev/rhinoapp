{"ast":null,"code":"var _jsxFileName = \"/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/all-pages/GeoMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport axios from 'axios';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet GeoMap = () => {\n  _s();\n  let [search, setSearch] = useState('');\n  let [adress, setAdress] = useState(null);\n  const [viewport, setViewport] = useState({\n    latitude: 23.7531959,\n    longitude: 90.4374604\n  });\n  useEffect(() => {\n    console.log(viewport);\n  }, [viewport]);\n  useEffect(() => {\n    console.log(viewport);\n    if (\"geolocation\" in navigator) {\n      console.log('available');\n      navigator.geolocation.getCurrentPosition(position => {\n        console.log(position.coords.latitude, position.coords.longitude);\n        setViewport({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude\n        });\n        console.log(viewport, 'vee');\n      });\n    } else {\n      console.log('bug');\n    }\n  }, []);\n  let onMarkerDragStart = event => {\n    const {\n      latitude,\n      longitude\n    } = event;\n  };\n  let onDragEnd = event => {\n    if (event.lngLat) {\n      let url = `https://api.geoapify.com/v1/geocode/reverse?lat=${event.lngLat.lat}&lon=${event.lngLat.lng}&apiKey=24d9c36345a346f1be7bc3c92cf1f26b`;\n      axios.get(url).then(response => {\n        console.log(response.data.features[0].properties.formatted);\n        setAdress(response.data.features[0].properties.formatted);\n        setViewport({\n          latitude: response.data.features[0].geometry.coordinates[1],\n          longitude: response.data.features[0].geometry.coordinates[0]\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n  let onMarkerDrag = event => {\n    const {\n      latitude,\n      longitude\n    } = event;\n  };\n  let geoCode = () => {\n    if (search) {\n      let url = `https://api.geoapify.com/v1/geocode/search?text=${search}&apiKey=24d9c36345a346f1be7bc3c92cf1f26b`;\n      axios.get(url).then(response => {\n        console.log(response.data.features[0].geometry.coordinates);\n        setViewport({\n          latitude: response.data.features[0].geometry.coordinates[1],\n          longitude: response.data.features[0].geometry.coordinates[0]\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-cont\",\n    children: [viewport ? /*#__PURE__*/_jsxDEV(ReactMapGL, {\n      ...viewport,\n      latitude: viewport.latitude,\n      longitude: viewport.longitude,\n      width: \"100vw\",\n      height: \"1000vh\",\n      zoom: 15,\n      mapboxAccessToken: \"pk.eyJ1IjoiYWRpYmtoYW5kZXYiLCJhIjoiY2xnNWt4YW85MDRsaTNpcGQ5djFrdWhyYiJ9.T5M-84Av38RJSb1j1Bp6Iw\",\n      mapStyle: \"mapbox://styles/adibkhandev/clg6ih4pd009y01p0dup15qd7\",\n      onMove: evt => {\n        setViewport(evt);\n        console.log('hocche', evt);\n      },\n      children: /*#__PURE__*/_jsxDEV(Marker, {\n        draggable: true,\n        latitude: viewport.latitude || 23.7531959,\n        longitude: viewport.longitude || 90.4374604,\n        onDragStart: onMarkerDragStart,\n        onDragEnd: onDragEnd,\n        onDrag: onMarkerDrag\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this) : 'hi', /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav-cont\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: geoCode,\n          className: \"search-btn\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"images/search-ash.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: adress || search,\n          onChange: e => setSearch(e.target.value),\n          className: \"location-search\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"target\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"images/target.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(GeoMap, \"zsdcj89VwwIZS1hE1FI5teAc3ic=\");\n_c = GeoMap;\nexport default GeoMap;\nvar _c;\n$RefreshReg$(_c, \"GeoMap\");","map":{"version":3,"names":["React","useState","useEffect","ReactMapGL","Marker","Popup","axios","GeoMap","search","setSearch","adress","setAdress","viewport","setViewport","latitude","longitude","console","log","navigator","geolocation","getCurrentPosition","position","coords","onMarkerDragStart","event","onDragEnd","lngLat","url","lat","lng","get","then","response","data","features","properties","formatted","geometry","coordinates","catch","err","onMarkerDrag","geoCode","evt","e","target","value"],"sources":["/home/adib/code/rhino_production/rhino/rhino-front/rhino/src/all-pages/GeoMap.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport axios from 'axios'\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nlet GeoMap = ()=> {\n  let [search,setSearch]=useState('')\n  let [adress,setAdress] = useState(null)\n  const [viewport, setViewport] = useState({latitude: 23.7531959, longitude: 90.4374604});\n  useEffect(() => {\n    console.log(viewport)\n  }, [viewport])\n  useEffect(() => {\n    console.log(viewport)\n    if(\"geolocation\" in navigator){\n      console.log('available')\n      navigator.geolocation.getCurrentPosition((position)=>{\n        console.log(position.coords.latitude,position.coords.longitude)\n        setViewport({\n          latitude:position.coords.latitude,\n          longitude:position.coords.longitude,\n        })\n        console.log(viewport,'vee')\n      })\n    }\n    else{\n      console.log('bug')\n    }\n  },[])\n\n  let onMarkerDragStart = (event) => {\n    const {latitude, longitude} = event;\n   \n  }\n\n  let onDragEnd = (event) => {\n    \n    if(event.lngLat){\n      let url =`https://api.geoapify.com/v1/geocode/reverse?lat=${event.lngLat.lat}&lon=${event.lngLat.lng}&apiKey=24d9c36345a346f1be7bc3c92cf1f26b`\n      axios.get(url)\n       .then((response)=>{\n        console.log(response.data.features[0].properties.formatted)\n        setAdress(response.data.features[0].properties.formatted)\n        setViewport({\n          latitude:response.data.features[0].geometry.coordinates[1],\n          longitude:response.data.features[0].geometry.coordinates[0],\n        })\n       })\n       .catch((err)=>{\n        console.log(err)\n       })\n    }\n  }\n\n  let onMarkerDrag = (event) => {\n    const {latitude, longitude} = event;\n  \n  }\n\n\n  let geoCode = ()=>{\n    if(search){\n    let url = `https://api.geoapify.com/v1/geocode/search?text=${search}&apiKey=24d9c36345a346f1be7bc3c92cf1f26b`\n        axios.get(url)\n       .then((response)=>{\n        console.log(response.data.features[0].geometry.coordinates)\n        setViewport({\n          latitude:response.data.features[0].geometry.coordinates[1],\n          longitude:response.data.features[0].geometry.coordinates[0],\n        })\n       })\n       .catch((err)=>{\n        console.log(err)\n       })\n \n    }\n  }\n\n  return (\n    <div className=\"map-cont\">\n      {viewport?(\n\n      <ReactMapGL\n        {...viewport}\n        latitude={viewport.latitude }\n        longitude={viewport.longitude }\n        width= {\"100vw\"}\n        height= {\"1000vh\"}\n        zoom= {15}\n        mapboxAccessToken=\"pk.eyJ1IjoiYWRpYmtoYW5kZXYiLCJhIjoiY2xnNWt4YW85MDRsaTNpcGQ5djFrdWhyYiJ9.T5M-84Av38RJSb1j1Bp6Iw\"\n        mapStyle=\"mapbox://styles/adibkhandev/clg6ih4pd009y01p0dup15qd7\"\n        onMove={(evt) => {\n\n          setViewport(evt);\n          console.log('hocche',evt)\n        }}\n       >\n       <Marker \n       draggable \n        latitude={viewport.latitude || 23.7531959}\n        longitude={viewport.longitude || 90.4374604 }\n       onDragStart={onMarkerDragStart}\n       onDragEnd={onDragEnd}\n       onDrag={onMarkerDrag}\n       >\n     \n       </Marker>\n\n      </ReactMapGL>\n      \n\n\n      ):'hi'}\n      \n     <div className=\"nav-cont\">\n       \n      <div className=\"nav\">\n        <div onClick={geoCode} className=\"search-btn\">\n          <img src=\"images/search-ash.png\" alt=\"\"/>\n        </div>\n        <input value={adress || search} onChange={(e)=>setSearch(e.target.value)} className=\"location-search\" type=\"text\"/>\n        <div className=\"target\">\n          <img src=\"images/target.png\" alt=\"\"/>\n        </div>\n      </div>\n    </div>\n     </div>\n  );\n}\n\nexport default GeoMap;"],"mappings":"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"},"metadata":{},"sourceType":"module"}